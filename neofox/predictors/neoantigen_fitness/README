

#Data from Nature, Balachandran.2016-10-13834C
#
#Python version with Biopython
#. /etc/profile.d/modules.sh; module load software/python/python-2.7.9

in="Balachandran.2016-10-13834C.Supplementary_Data_03/data/iedb.fasta"
/kitty/code/ncbi-blast-2.2.29+/bin/makeblastdb -in $in -dbtype prot -out scratch/iedb_blast_db 

/kitty/code/ncbi-blast-2.2.29+/bin/blastp -outfmt 5 -query  -out -db scratch/iedb_blast_db

#../tumor_antigens/304925_Bjerregaard_SupMaterial_Table_1.genes.txt.NSCLC.csv
#../tumor_antigens/304925_Bjerregaard_SupMaterial_Table_1.genes.txt.SKCM.csv

python list_to_peptide.py ../tumor_antigens/304925_Bjerregaard_SupMaterial_Table_1.genes.txt.NSCLC.csv > NSCLC.fa
python list_to_peptide.py ../tumor_antigens/304925_Bjerregaard_SupMaterial_Table_1.genes.txt.SKCM.csv > SKCM.fa
/kitty/code/ncbi-blast-2.2.29+/bin/blastp -outfmt 5 -query NSCLC.fa -out scratch/NSCLC_iedb.xml -db scratch/iedb_blast_db -evalue 100000000
/kitty/code/ncbi-blast-2.2.29+/bin/blastp -outfmt 5 -query SKCM.fa -out scratch/SKCM_iedb.xml -db scratch/iedb_blast_db -evalue 100000000

# IVAC data


# add main method to Aligner.py, which runs the xml parsing and computation
--> Aligner_modified.py
python Aligner_modified.py scratch/NSCLC_iedb.xml NSCLC.fa

